---
title: "sfheaders"
output: html_document
editor_options: 
  chunk_output_type: console
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r sfheaers-setup}

## Detatch {sf} to remove 'print' methods
## because I want to show the underlying structure 
##
## library(sf) will be called later
pkgload::unload("sf")


set.seed(20210924)  
```


The design philosophy of `{sfheaders}` is to

1. **build** `{sf}` objects from vectors, matrices and data.frames
2. **expose** all C++ code through header files (hence the name, `sfheaders`)

It's intended that every operation you can do in R, you can also do in C++. I anticipate 99% of users will only need the R functions. But the C++ header files are there if you are building your own package with C++ code and would like to build `{sf}` objects directly in C++.

This package is not directly affiliated with the `{sf}` library, but every effort is made to keep it aligned and create valid `sf` objects.

## Building sf objects in R

The simplest use-case for `{sfheaders}` is best demonstrated with examples of building  `sfg`, `sfc` and `sf` objects

Here are examples showing

- a vector converted to `sfg_POINT`
- a matrix converted to `sfg_LINESTRING`
- a data.frame converted to `sfg_POLYGON`

```{r sfheaders-sfg_point} 
v <- c(1,1)
sfheaders::sfg_point(obj = v)
```


```{r sfheaders-sfg_linestring}
n <- 8
m <- matrix(rnorm(10), ncol = 2)

sfheaders::sfg_linestring(obj = m)

```


```{r sfheaders-sfg_polygon}

n <- 4

df <- data.frame(
  x = rnorm(n)
  , y = rnorm(n)
)

sfheaders::sfg_polygon(obj = df)
```


Reusing the objects `v`, `m`, and `df` we can also build `sfc` objects

```{r sfheaders-sfc_point}
sfheaders::sfc_point(obj = v)
```

```{r sfheaders-sfc_linestring}
sfheaders::sfc_linestring(obj = m)
```

```{r sfheaders-sfc_polygon}
sfheaders::sfc_polygon(obj = df)
```

And similarly, `sf` objects

```{r sfheaders-sfc_point}
sfheaders::sf_point(obj = v)
```

```{r sfheaders-sfc_linestring}
sfheaders::sf_linestring(obj = m)
```

```{r sfheaders-sfc_polygon}
sfheaders::sf_polygon(obj = df)
```






